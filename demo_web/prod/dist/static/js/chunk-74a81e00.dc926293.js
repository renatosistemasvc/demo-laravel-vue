(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74a81e00"],{"5eaa":function(t,e,a){},"7f7f":function(t,e,a){var s=a("86cc").f,o=Function.prototype,i=/^\s*function ([^ (]*)/,r="name";r in o||a("9e1e")&&s(o,r,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},"7f89":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("c-panel",[a("form-usuario",{attrs:{paramId:t.$route.params.id},on:{onSubmitUsuario:t.onSubmitUsuario}})],1)],1)},o=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.editUsuario&&!t.dados.id,expression:"editUsuario && !dados.id"}],ref:"dados",staticStyle:{"min-height":"200px"},attrs:{model:t.dados,"label-position":"top"},nativeOn:{submit:function(e){return e.preventDefault(),t.onSubmitUsuario(e)}}},[!t.editUsuario||t.dados.id?a("div",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:18,md:18}},[a("el-form-item",{key:"name",attrs:{label:"Nome do Usuário",prop:"name",rules:[t.$requiredBlur]}},[a("el-input",{attrs:{maxlength:"191"},on:{blur:function(e){return t.formatData("name")}},model:{value:t.dados.name,callback:function(e){t.$set(t.dados,"name",e)},expression:"dados.name"}})],1)],1),a("el-col",{attrs:{xs:24,sm:6,md:6}},[a("el-form-item",{key:"situacao",attrs:{label:"Situação",prop:"situacao",rules:[t.$requiredBlur]}},[a("el-select",{model:{value:t.dados.situacao,callback:function(e){t.$set(t.dados,"situacao",e)},expression:"dados.situacao"}},[a("el-option",{key:!0,attrs:{label:"ATIVO",value:!0}}),a("el-option",{key:!1,attrs:{label:"INATIVO",value:!1}})],1)],1)],1)],1),t.editUsuario&&!t.updateUsuario?a("div",{staticClass:"style-form"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24}},[a("label",{staticStyle:{display:"block"}},[t._v("Usuário")]),a("div",{staticClass:"style-input readonly",staticStyle:{float:"left",width:"calc(100% - 55px)"}},[t._v(t._s(t.dados.usuario))]),a("el-button",{staticStyle:{float:"right",width:"40px",height:"40px"},attrs:{icon:"el-icon-edit",circle:""},on:{click:function(e){t.updateUsuario=!0}}})],1)],1)],1):t._e(),!t.editUsuario||t.editUsuario&&t.updateUsuario?a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24}},[a("el-form-item",{key:"usuario",attrs:{label:"Usuário",prop:"usuario",rules:[t.$requiredBlur]}},[a("el-input",{staticClass:"text-transform-none",attrs:{maxlength:"191"},model:{value:t.dados.usuario,callback:function(e){t.$set(t.dados,"usuario",e)},expression:"dados.usuario"}})],1)],1)],1):t._e(),t.editUsuario&&!t.updatePassword?a("div",{staticClass:"style-form"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24}},[a("label",{staticStyle:{display:"block"}},[t._v("Senha")]),a("div",{staticClass:"style-input readonly",staticStyle:{float:"left",width:"calc(100% - 55px)"}},[t._v("******")]),a("el-button",{staticStyle:{float:"right",width:"40px",height:"40px"},attrs:{icon:"el-icon-edit",circle:""},on:{click:function(e){t.updatePassword=!0}}})],1)],1)],1):t._e(),!t.editUsuario||t.editUsuario&&t.updatePassword?a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:12,md:12}},[a("el-form-item",{key:"password",attrs:{label:"Senha",prop:"password",rules:[t.$requiredBlur]}},[a("el-input",{staticClass:"text-transform-none",attrs:{maxlength:"191",type:"password"},model:{value:t.dados.password,callback:function(e){t.$set(t.dados,"password",e)},expression:"dados.password"}})],1)],1),a("el-col",{attrs:{xs:24,sm:12,md:12}},[a("el-form-item",{key:"password_confirmation",attrs:{label:"Confirma Senha",prop:"password_confirmation",rules:[t.$requiredBlur]}},[a("el-input",{staticClass:"text-transform-none",attrs:{maxlength:"191",type:"password"},model:{value:t.dados.password_confirmation,callback:function(e){t.$set(t.dados,"password_confirmation",e)},expression:"dados.password_confirmation"}})],1)],1)],1):t._e(),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24}},[a("el-form-item",{key:"instituicao_id",attrs:{label:"Instituição",prop:"instituicao_id",rules:[t.$requiredBlur]}},[a("el-select",{model:{value:t.dados.instituicao_id,callback:function(e){t.$set(t.dados,"instituicao_id",e)},expression:"dados.instituicao_id"}},t._l(t.instituicoes,(function(t,e){return a("el-option",{key:e,attrs:{label:t.nome,value:t.id}})})),1)],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24}},[a("el-form-item",{staticClass:"u-text-right u-mt-15"},[a("el-button",{attrs:{type:"primary",id:"btn-usuario","native-type":"submit"}},[t._v("SALVAR")])],1)],1)],1)],1):t._e()])],1)},r=[],n=(a("7f7f"),{props:["paramId"],data:function(){return{instituicoes:[],editUsuario:!1,updateUsuario:!1,updatePassword:!1,alert:!1,dados:{id:"",name:"",situacao:"",tipo:"",usuario:"",password:"",password_confirmation:"",instituicao_id:""}}},mounted:function(){this.getAllInstituicoes()},methods:{getAllInstituicoes:function(){var t=this;this.$axios.get("".concat(this.$store.state.config.baseUrlApi,"/api/instituicao/getAll"),this.$store.getters.getHeaderAuth).then((function(e){t.instituicoes=JSON.parse(JSON.stringify(e.data))})).catch((function(e){t.$store.commit("throwException",e)}))},getUsuarioById:function(t){var e=this;this.$axios.get("".concat(this.$store.state.config.baseUrlApi,"/api/usuario/getById/")+t,this.$store.getters.getHeaderAuth).then((function(t){e.dados=JSON.parse(JSON.stringify(t.data))})).catch((function(t){e.$store.commit("throwException",t)}))},onSubmitUsuario:function(){var t=this;document.getElementById("btn-usuario").focus(),this.$refs.dados.validate((function(e){if(e)if(window.eventBus.$emit("loading",!0),t.editUsuario){var a={id:t.dados.id,name:t.dados.name,usuario:t.updateUsuario?t.dados.usuario:"",password:t.updatePassword?t.dados.password:"",password_confirmation:t.updatePassword?t.dados.password_confirmation:"",instituicao_id:t.dados.instituicao_id};t.$axios.post("".concat(t.$store.state.config.baseUrlApi,"/api/usuario/update/")+a.id,a,t.$store.getters.getHeaderAuth).then((function(e){"undefined"!==typeof e.data.throw?window.eventBus.$emit("alert",{msg:e.data.throw.msg,type:e.data.throw.type}):(window.eventBus.$emit("alert",{msg:"Sucesso! - Operação realizada com Sucesso!",type:"success"}),t.$emit("onSubmitUsuario")),window.eventBus.$emit("loading",!1)})).catch((function(e){window.eventBus.$emit("loading",!1),t.$store.commit("throwException",e)}))}else t.$axios.post("".concat(t.$store.state.config.baseUrlApi,"/api/usuario/store"),t.dados,t.$store.getters.getHeaderAuth).then((function(e){"undefined"!==typeof e.data.throw?window.eventBus.$emit("alert",{msg:e.data.throw.msg,type:e.data.throw.type}):(window.eventBus.$emit("alert",{msg:"Sucesso! - Operação realizada com Sucesso!",type:"success"}),t.$emit("onSubmitUsuario")),window.eventBus.$emit("loading",!1)})).catch((function(e){window.eventBus.$emit("loading",!1),t.$store.commit("throwException",e)}));else window.eventBus.$emit("alert",{msg:"Campos obrigatórios não foram preenchidos.",type:"warning"})}))},formatData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.dados[t])return!1;e&&this.dados[t].length<e&&(this.dados[t]=""),this.dados[t]=this.dados[t].toUpperCase()}},watch:{paramId:{immediate:!0,handler:function(t){t&&(this.getUsuarioById(t),this.editUsuario=!0)}}}}),d=n,u=(a("856e"),a("2877")),l=Object(u["a"])(d,i,r,!1,null,null,null),c=l.exports,m={methods:{onSubmitUsuario:function(){this.$router.push("/admin/usuario")}},components:{formUsuario:c}},p=m,f=Object(u["a"])(p,s,o,!1,null,null,null);e["default"]=f.exports},"856e":function(t,e,a){"use strict";var s=a("5eaa"),o=a.n(s);o.a}}]);
//# sourceMappingURL=chunk-74a81e00.dc926293.js.map